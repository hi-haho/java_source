<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<h2>Async/Await</h2>
promise 객체를 내부적으로 처리하는 Async-Await라는 키워드(명령어)
일반적인 형태의 소스코드를 작성하면서 비동기 처리를 할 수 있다.
<br>
<script type="text/javascript">
const myPromise = (seconds) => new Promise((resolve, reject) =>{
	setTimeout(() =>{
		let a = 2; //실패 (3)를 경험해보자
		if(a%2 ===0){
			resolve('이 값이 then 메소드의 매개 변수로 전달됨');
		}else{
			reject('err : reject 실행되면 catch로 받을 수 있다.');
		}
		resolve('이 값이 then 메소드의 매개 변수로 전달됨');
	},seconds);
});

//형식
/*
async function 함수명(){
	try{
		await 비동기 처리 메서드();
	}
	catch(e){}
	finally{}}
 */
async function gogo(){
	try{
		const result1 = await myPromise(1000); //then 메서드 대신 적음
		console.log(result1);
		const result2 = await myPromise(2000);
		console.log(result2);
		const result3 = await myPromise(3000);
		console.log(result3);
		const result4 = await myPromise(4000);
		console.log(result4);
	}catch(e){
		console.log('err : ',e);
	}finally{
		console.log('에러와 상관없이 실행');
	}
}

gogo();
</script>
</body>
</html>